<script language=javascript>document.write(unescape('%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%20/%3E%0A%20%20%20%20%3Cmeta%20http-equiv%3D%22X-UA-Compatible%22%20content%3D%22IE%3Dedge%22%20/%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%20/%3E%0A%20%20%20%20%3Ctitle%3Exo.JesseJesse.com%3C/title%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%23board%20button%20%7B%0A%20%20%20%20%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20%20%20%20%20border%3A%201px%20dotted%20rgb%28143%2C%20141%2C%20141%29%3B%0A%20%20%20%20%20%20%20%20transition%3A%20box-shadow%200.5s%3B%0A%20%20%20%20%20%20%20%20margin%3A%204px%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%23board%20button%5Bdata-color%3D%27red%27%5D%20%7B%0A%20%20%20%20%20%20%20%20background-color%3A%20rgb%28166%2C%200%2C%200%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%23board%20button%5Bdata-color%3D%27blue%27%5D%20%7B%0A%20%20%20%20%20%20%20%20background-color%3A%20rgb%283%2C%203%2C%20160%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%23board.myturn%20button%5Bdata-color%3D%27none%27%5D%20%7B%0A%20%20%20%20%20%20%20%20box-shadow%3A%200%200.5rem%201rem%20rgba%280%2C%200%2C%200%2C%200.35%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20height%3A%20100vh%3B%0A%20%20%20%20%20%20%20%20width%3A%20100vw%3B%0A%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20.hidden%20%7B%0A%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%20%20%3C/head%3E%0A%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22container%22%3E%0A%20%20%20%20%20%20xo.JesseJesse.com%0A%20%20%20%20%20%20%3Ch1%3E%3Csvg%20width%3D%22564.1274902343749px%22%20height%3D%22139.17001953124998px%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%22-32.063745117187466%205.414990234375011%20564.1274902343749%20139.17001953124998%22%20style%3D%22background%3A%20rgba%280%2C%200%2C%200%2C%200%29%3B%22%20preserveAspectRatio%3D%22xMidYMid%22%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22editing-sticker-gradient%22%20x1%3D%220.5%22%20y1%3D%220.2%22%20x2%3D%220.5%22%20y2%3D%220.8%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23eb0505%22%3E%3C/stop%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%230061ee%22%3E%3C/stop%3E%3C/linearGradient%3E%3Cfilter%20id%3D%22editing-sticker%22%20x%3D%22-100%25%22%20y%3D%22-100%25%22%20width%3D%22300%25%22%20height%3D%22300%25%22%3E%3CfeMorphology%20operator%3D%22erode%22%20radius%3D%221%22%20in%3D%22SourceAlpha%22%20result%3D%22alpha-erode%22%3E%3C/feMorphology%3E%3CfeConvolveMatrix%20order%3D%223%2C3%22%20divisor%3D%221%22%20kernelMatrix%3D%220%201%200%201%201%201%200%201%200%22%20in%3D%22alpha-erode%22%20result%3D%22alpha-round%22%3E%3C/feConvolveMatrix%3E%3CfeMorphology%20operator%3D%22dilate%22%20radius%3D%223.5%22%20in%3D%22alpha-round%22%20result%3D%22dilate-shadow%22%3E%3C/feMorphology%3E%3CfeGaussianBlur%20in%3D%22dilate-shadow%22%20stdDeviation%3D%221.5%22%20result%3D%22shadow%22%3E%3C/feGaussianBlur%3E%3CfeFlood%20flood-color%3D%22%23fff%22%20result%3D%22flood-sticker%22%3E%3C/feFlood%3E%3CfeComposite%20operator%3D%22in%22%20in%3D%22flood-sticker%22%20in2%3D%22alpha-round%22%20result%3D%22comp-sticker%22%3E%3C/feComposite%3E%3CfeMorphology%20operator%3D%22dilate%22%20radius%3D%223%22%20in%3D%22comp-sticker%22%20result%3D%22morph-sticker%22%3E%3C/feMorphology%3E%3CfeConvolveMatrix%20order%3D%223%2C3%22%20divisor%3D%221%22%20kernelMatrix%3D%220%201%200%201%201%201%200%201%200%22%20in%3D%22morph-sticker%22%20result%3D%22sticker%22%3E%3C/feConvolveMatrix%3E%3CfeMerge%3E%3CfeMergeNode%20in%3D%22shadow%22%3E%3C/feMergeNode%3E%3CfeMergeNode%20in%3D%22sticker%22%3E%3C/feMergeNode%3E%3CfeMergeNode%20in%3D%22SourceGraphic%22%3E%3C/feMergeNode%3E%3C/feMerge%3E%3C/filter%3E%3C/defs%3E%3Cg%20filter%3D%22url%28%23editing-sticker%29%22%3E%3Cg%20transform%3D%22translate%2833.455007553100586%2C%20100.34500122070312%29%22%3E%3Cpath%20d%3D%22M68.22-49.79L68.22-34.30L57.22-34.30L57.22-39.30L53.12-39.30L53.12-10.50L57.60-10.50L57.60%200L30.72%200L30.72-10.50L35.20-10.50L35.20-39.30L31.10-39.30L31.10-34.30L20.10-34.30L20.10-49.79L68.22-49.79ZM86.40-39.10L73.34-39.10L73.34-49.79L86.40-49.79L86.40-39.10ZM90.62%200L70.27%200L70.27-10.50L73.09-10.50L73.09-25.09L70.27-25.09L70.27-35.58L87.81-35.58L87.81-10.50L90.62-10.50L90.62%200ZM111.55%200.90L111.55%200.90Q102.40%200.90%2097.28-3.87L97.28-3.87L97.28-3.87Q92.16-8.64%2092.16-17.79L92.16-17.79L92.16-17.79Q92.16-26.94%2097.28-31.71L97.28-31.71L97.28-31.71Q102.40-36.48%20111.49-36.48L111.49-36.48L111.49-36.48Q115.90-36.48%20119.94-35.26L119.94-35.26L119.94-35.26Q123.97-34.05%20126.21-32.51L126.21-32.51L126.21-19.84L115.20-19.84L115.20-20.99L115.20-20.99Q115.20-23.10%20114.30-24.10L114.30-24.10L114.30-24.10Q113.41-25.09%20111.49-25.09L111.49-25.09L111.49-25.09Q107.78-25.09%20107.78-20.99L107.78-20.99L107.78-15.49L107.78-15.49Q107.78-10.50%20113.47-10.50L113.47-10.50L113.47-10.50Q118.78-10.50%20125.82-11.65L125.82-11.65L125.82-1.60L125.82-1.60Q123.65-0.64%20119.71%200.13L119.71%200.13L119.71%200.13Q115.78%200.90%20111.55%200.90L111.55%200.90ZM195.46-49.79L195.46-34.30L184.45-34.30L184.45-39.30L180.35-39.30L180.35-10.50L184.83-10.50L184.83%200L157.95%200L157.95-10.50L162.43-10.50L162.43-39.30L158.34-39.30L158.34-34.30L147.33-34.30L147.33-49.79L195.46-49.79ZM230.98-10.50L233.79-10.50L233.79%200L216.90%200L216.90-4.35L216.90-4.35Q215.49-2.30%20212.96-0.70L212.96-0.70L212.96-0.70Q210.43%200.90%20206.78%200.90L206.78%200.90L206.78%200.90Q201.98%200.90%20199.23-1.66L199.23-1.66L199.23-1.66Q196.48-4.22%20196.48-8.90L196.48-8.90L196.48-8.90Q196.48-20.99%20217.02-21.31L217.02-21.31L217.02-21.31Q216.83-23.49%20215.36-24.29L215.36-24.29L215.36-24.29Q213.89-25.09%20210.37-25.09L210.37-25.09L210.37-25.09Q207.49-25.09%20204.19-24.48L204.19-24.48L204.19-24.48Q200.90-23.87%20198.14-22.85L198.14-22.85L198.14-34.62L198.14-34.62Q201.54-35.46%20205.50-35.97L205.50-35.97L205.50-35.97Q209.47-36.48%20213.25-36.48L213.25-36.48L213.25-36.48Q222.78-36.48%20226.88-33.02L226.88-33.02L226.88-33.02Q230.98-29.57%20230.98-22.34L230.98-22.34L230.98-10.50ZM216.90-14.59L216.90-14.98L216.90-14.98Q214.02-14.98%20212.45-14.21L212.45-14.21L212.45-14.21Q210.88-13.44%20210.88-11.65L210.88-11.65L210.88-11.65Q210.88-10.56%20211.55-9.89L211.55-9.89L211.55-9.89Q212.22-9.22%20213.44-9.22L213.44-9.22L213.44-9.22Q215.10-9.22%20216.00-10.62L216.00-10.62L216.00-10.62Q216.90-12.03%20216.90-14.59L216.90-14.59ZM254.98%200.90L254.98%200.90Q245.82%200.90%20240.70-3.87L240.70-3.87L240.70-3.87Q235.58-8.64%20235.58-17.79L235.58-17.79L235.58-17.79Q235.58-26.94%20240.70-31.71L240.70-31.71L240.70-31.71Q245.82-36.48%20254.91-36.48L254.91-36.48L254.91-36.48Q259.33-36.48%20263.36-35.26L263.36-35.26L263.36-35.26Q267.39-34.05%20269.63-32.51L269.63-32.51L269.63-19.84L258.62-19.84L258.62-20.99L258.62-20.99Q258.62-23.10%20257.73-24.10L257.73-24.10L257.73-24.10Q256.83-25.09%20254.91-25.09L254.91-25.09L254.91-25.09Q251.20-25.09%20251.20-20.99L251.20-20.99L251.20-15.49L251.20-15.49Q251.20-10.50%20256.90-10.50L256.90-10.50L256.90-10.50Q262.21-10.50%20269.25-11.65L269.25-11.65L269.25-1.60L269.25-1.60Q267.07-0.64%20263.14%200.13L263.14%200.13L263.14%200.13Q259.20%200.90%20254.98%200.90L254.98%200.90ZM338.88-49.79L338.88-34.30L327.87-34.30L327.87-39.30L323.78-39.30L323.78-10.50L328.26-10.50L328.26%200L301.38%200L301.38-10.50L305.86-10.50L305.86-39.30L301.76-39.30L301.76-34.30L290.75-34.30L290.75-49.79L338.88-49.79ZM355.52%200.90L355.52%200.90Q346.43%200.90%20341.31-3.87L341.31-3.87L341.31-3.87Q336.19-8.64%20336.19-17.79L336.19-17.79L336.19-17.79Q336.19-26.94%20341.31-31.71L341.31-31.71L341.31-31.71Q346.43-36.48%20355.52-36.48L355.52-36.48L355.52-36.48Q364.74-36.48%20369.79-31.65L369.79-31.65L369.79-31.65Q374.85-26.82%20374.85-17.79L374.85-17.79L374.85-17.79Q374.85-8.64%20369.73-3.87L369.73-3.87L369.73-3.87Q364.61%200.90%20355.52%200.90L355.52%200.90ZM355.52-10.50L355.52-10.50Q357.38-10.50%20358.30-11.49L358.30-11.49L358.30-11.49Q359.23-12.48%20359.23-14.59L359.23-14.59L359.23-20.99L359.23-20.99Q359.23-23.10%20358.30-24.10L358.30-24.10L358.30-24.10Q357.38-25.09%20355.52-25.09L355.52-25.09L355.52-25.09Q353.66-25.09%20352.74-24.10L352.74-24.10L352.74-24.10Q351.81-23.10%20351.81-20.99L351.81-20.99L351.81-14.59L351.81-14.59Q351.81-12.48%20352.74-11.49L352.74-11.49L352.74-11.49Q353.66-10.50%20355.52-10.50L355.52-10.50ZM395.97%200.90L395.97%200.90Q386.88%200.90%20381.76-3.87L381.76-3.87L381.76-3.87Q376.64-8.64%20376.64-17.79L376.64-17.79L376.64-17.79Q376.64-26.94%20381.76-31.71L381.76-31.71L381.76-31.71Q386.88-36.48%20395.97-36.48L395.97-36.48L395.97-36.48Q404.99-36.48%20408.99-31.78L408.99-31.78L408.99-31.78Q412.99-27.07%20412.99-20.10L412.99-20.10L412.99-15.49L392.26-15.49L392.26-15.10L392.26-15.10Q392.26-12.74%20393.66-11.62L393.66-11.62L393.66-11.62Q395.07-10.50%20398.34-10.50L398.34-10.50L398.34-10.50Q402.24-10.50%20405.76-11.07L405.76-11.07L405.76-11.07Q409.28-11.65%20411.90-12.54L411.90-12.54L411.90-2.30L411.90-2.30Q409.66-1.09%20405.34-0.10L405.34-0.10L405.34-0.10Q401.02%200.90%20395.97%200.90L395.97%200.90ZM392.26-22.53L399.68-22.53L399.68-23.30L399.68-23.30Q399.68-25.47%20398.75-26.43L398.75-26.43L398.75-26.43Q397.82-27.39%20395.97-27.39L395.97-27.39L395.97-27.39Q394.11-27.39%20393.18-26.40L393.18-26.40L393.18-26.40Q392.26-25.41%20392.26-23.30L392.26-23.30L392.26-22.53Z%22%20fill%3D%22url%28%23editing-sticker-gradient%29%22%20stroke%3D%22%23040404%22%20stroke-width%3D%224%22%3E%3C/path%3E%3C/g%3E%3C/g%3E%3Cstyle%3Etext%20%7B%0A%20%20font-size%3A%2064px%3B%0A%20%20font-family%3A%20Arial%20Black%3B%0A%20%20dominant-baseline%3A%20central%3B%0A%20%20text-anchor%3A%20middle%3B%0A%20%20%20%20%20%20%7D%3C/style%3E%3C/svg%3E%3Cbr%3E%3C/h1%3E%0A%0A%20%20%20%20%20%20%3Cform%20id%3D%22joinGameForm%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22gameNameInput%22%3EGame%20ID%3A%3C/label%3E%0A%20%20%20%20%20%20%20%20%3Cinput%0A%20%20%20%20%20%20%20%20%20%20type%3D%22text%22%0A%20%20%20%20%20%20%20%20%20%20name%3D%22gameName%22%0A%20%20%20%20%20%20%20%20%20%20id%3D%22gameNameInput%22%0A%20%20%20%20%20%20%20%20%20%20value%3D%22719%22%0A%20%20%20%20%20%20%20%20/%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20type%3D%22submit%22%3EJoin%20or%20Create%20Game%3C/button%3E%0A%20%20%20%20%20%20%3C/form%3E%0A%0A%20%20%20%20%20%20%3Cbr%20/%3E%0A%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22gameContainer%22%20class%3D%22hidden%22%3E%0A%20%20%20%20%20%20%20%20Your%20color%3A%20%3Cspan%20id%3D%22myColor%22%3E%3F%3F%3F%3C/span%3E.%0A%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22instruction%22%3EWaiting%20for%20an%20opponent%20to%20join...%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22reset%22%20class%3D%22hidden%22%3EReset%3C/button%3E%0A%0A%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22board%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%21--%20will%20be%20created%20dynamically%20--%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20made%20with%20%26hearts%3B%26nbsp%3Bby%26nbsp%3B%3Ca%20href%3D%22https%3A//twitter.com/ilostmyipad/%22%3E@iLostmyipad%3C/a%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20const%20joinGameForm%20%3D%20document.getElementById%28%27joinGameForm%27%29%3B%0A%20%20%20%20%20%20const%20myColorSpan%20%3D%20document.getElementById%28%27myColor%27%29%3B%0A%20%20%20%20%20%20const%20instructionSpan%20%3D%20document.getElementById%28%27instruction%27%29%3B%0A%20%20%20%20%20%20const%20boardContainer%20%3D%20document.getElementById%28%27board%27%29%3B%0A%20%20%20%20%20%20const%20gameContainer%20%3D%20document.getElementById%28%27gameContainer%27%29%3B%0A%20%20%20%20%20%20const%20resetButton%20%3D%20document.getElementById%28%27reset%27%29%3B%0A%0A%20%20%20%20%20%20const%20state%20%3D%20%7B%0A%20%20%20%20%20%20%20%20ready%3A%20false%2C%0A%20%20%20%20%20%20%20%20playerCount%3A%201%2C%0A%20%20%20%20%20%20%20%20fieldValues%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%5B%27none%27%2C%20%27none%27%2C%20%27none%27%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%5B%27none%27%2C%20%27none%27%2C%20%27none%27%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%5B%27none%27%2C%20%27none%27%2C%20%27none%27%5D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20turn%3A%20%27none%27%2C%0A%20%20%20%20%20%20%20%20winner%3A%20null%2C%0A%20%20%20%20%20%20%20%20color%3A%20%27none%27%2C%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20/**%0A%20%20%20%20%20%20%20*%20Holds%20the%20web%20socket%20that%20connects%20to%20the%20current%20game%20instance.%0A%20%20%20%20%20%20%20*%20@type%20%7BWebSocket%7D%0A%20%20%20%20%20%20%20*/%0A%20%20%20%20%20%20let%20currentWebSocket%20%3D%20null%3B%0A%0A%20%20%20%20%20%20/**%0A%20%20%20%20%20%20%20*%20Applies%20the%20colors%20from%20the%20state%20to%20the%20game%20board.%20This%20should%20be%20called%20whenever%20any%20field%20color%20changes.%0A%20%20%20%20%20%20%20*/%0A%20%20%20%20%20%20function%20updateBoardColors%28%29%20%7B%0A%20%20%20%20%20%20%20%20state.fieldValues.forEach%28%28rowArray%2C%20rowNum%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20rowArray.forEach%28%28value%2C%20colNum%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fields%5BrowNum%5D%5BcolNum%5D.dataset.color%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20/**%0A%20%20%20%20%20%20%20*%20Updates%20the%20instructions%20for%20the%20player%2C%20based%20on%20state%20data.%20This%20should%20be%20called%20on%20every%20state%20change.%0A%20%20%20%20%20%20%20*/%0A%20%20%20%20%20%20function%20updateInstruction%28%29%20%7B%0A%20%20%20%20%20%20%20%20let%20text%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20let%20myTurn%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%21state.ready%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20waiting%20for%20data%0A%20%20%20%20%20%20%20%20%20%20text%20%3D%20%27Waiting%20for%20data...%27%3B%0A%20%20%20%20%20%20%20%20%20%20myTurn%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28state.playerCount%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20not%20waiting%20for%20data%2C%20paused%0A%20%20%20%20%20%20%20%20%20%20text%20%3D%20%27Waiting%20for%20an%20opponent%20to%20join...%27%3B%0A%20%20%20%20%20%20%20%20%20%20myTurn%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28state.winner%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20not%20waiting%20for%20data%2C%20not%20paused%2C%20game%20over%0A%20%20%20%20%20%20%20%20%20%20text%20%3D%20%60Game%20over%3A%20%24%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20state.winner%20%3D%3D%3D%20%27none%27%20%3F%20%27nobody%27%20%3A%20state.winner%0A%20%20%20%20%20%20%20%20%20%20%7D%20Victory%21%60%3B%0A%20%20%20%20%20%20%20%20%20%20myTurn%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28state.turn%20%3D%3D%3D%20state.color%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20not%20waiting%20for%20data%2C%20not%20paused%2C%20not%20game%20over%2C%20my%20turn%0A%20%20%20%20%20%20%20%20%20%20text%20%3D%20%22It%27s%20your%20turn%21%22%3B%0A%20%20%20%20%20%20%20%20%20%20myTurn%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20//%20not%20waiting%20for%20data%2C%20not%20paused%2C%20not%20game%20over%2C%20not%20my%20turn%0A%20%20%20%20%20%20%20%20%20%20text%20%3D%20%60Waiting%20for%20%24%7Bstate.turn%7D%20to%20make%20their%20move...%60%3B%0A%20%20%20%20%20%20%20%20%20%20myTurn%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20instructionSpan.innerText%20%3D%20text%3B%0A%20%20%20%20%20%20%20%20if%20%28myTurn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20boardContainer.classList.add%28%27myturn%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20boardContainer.classList.remove%28%27myturn%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20/**%0A%20%20%20%20%20%20%20*%20Updates%20the%20color%20display%20and%20enables/disables%20capabilities%20based%20on%20the%20player%20color.%0A%20%20%20%20%20%20%20*/%0A%20%20%20%20%20%20function%20updateColor%28%29%20%7B%0A%20%20%20%20%20%20%20%20myColorSpan.innerText%20%3D%20state.color%3B%0A%20%20%20%20%20%20%20%20if%20%28state.color%20%21%3D%3D%20%27none%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20resetButton.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20state.color.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20async%20function%20joinGame%28gameName%29%20%7B%0A%20%20%20%20%20%20%20%20const%20newSocket%20%3D%20new%20WebSocket%28%0A%20%20%20%20%20%20%20%20%20%20%60%24%7Bwindow.location.protocol%20%3D%3D%3D%20%27https%3A%27%20%3F%20%27wss%27%20%3A%20%27ws%27%7D%3A//%24%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.location.hostname%0A%20%20%20%20%20%20%20%20%20%20%7D%3A%24%7Bwindow.location.port%7D/api/game/%24%7BgameName%7D%60%2C%0A%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20newSocket.addEventListener%28%27open%27%2C%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentWebSocket%20%3D%20newSocket%3B%0A%20%20%20%20%20%20%20%20%20%20instructionSpan.innerText%20%3D%20%27Connected%2C%20waiting%20for%20game%20data...%27%3B%20//TODO%20reset%0A%20%20%20%20%20%20%20%20%20%20gameContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20newSocket.addEventListener%28%27message%27%2C%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20message%20%3D%20JSON.parse%28event.data%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20switch%20%28message.type%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27color%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20state.color%20%3D%20message.color%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateInstruction%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateColor%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27state%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20state.fieldValues%20%3D%20message.fields%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20state.turn%20%3D%20message.turn%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20state.winner%20%3D%20message.winner%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateInstruction%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateBoardColors%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27players%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20state.playerCount%20%3D%20message.playerCount%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20state.ready%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateInstruction%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%27Received%20invalid%20message%3A%20%27%20+%20event.data%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20newSocket.addEventListener%28%27error%27%2C%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20alert%28%60Error%20in%20web%20socket%3A%20%24%7Bevent.toString%28%29%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20console.dir%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20currentWebSocket.close%281000%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20newSocket.addEventListener%28%27close%27%2C%20%28event%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20gameContainer.classList.remove%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20currentWebSocket%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20state.ready%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20alert%28%27Disconnected%21%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20/**%0A%20%20%20%20%20%20%20*%20@param%20%7BSubmitEvent%7D%20event%23%0A%20%20%20%20%20%20%20*/%0A%20%20%20%20%20%20function%20clickJoinGame%28event%29%20%7B%0A%20%20%20%20%20%20%20%20let%20gameName%20%3D%20document.getElementById%28%27gameNameInput%27%29.value%3B%0A%20%20%20%20%20%20%20%20if%20%28%21/%5E%5B0-9a-zA-Z%5D+%24/.test%28gameName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20alert%28%27Hey%21%20what%20are%20u%20thinking%3F%20you%20can%20only%20use%20letters%20and%20numbers.%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28currentWebSocket%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20gameContainer.classList.add%28%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentWebSocket.close%281000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentWebSocket%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20joinGame%28gameName%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20false%3B%20//%20cancel%20submission%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20joinGameForm.onsubmit%20%3D%20clickJoinGame%3B%0A%0A%20%20%20%20%20%20function%20clickField%28element%2C%20rowNum%2C%20colNum%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28boardContainer.classList.contains%28%27myturn%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentWebSocket.send%28%0A%20%20%20%20%20%20%20%20%20%20%20%20JSON.stringify%28%7B%20type%3A%20%27move%27%2C%20row%3A%20rowNum%2C%20col%3A%20colNum%20%7D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20/**%20@type%20HTMLElement%5B%5D%5B%5D%20*/%0A%20%20%20%20%20%20const%20fields%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28let%20row%20%3D%200%3B%20row%20%3C%203%3B%20row++%29%20%7B%0A%20%20%20%20%20%20%20%20fields.push%28%5B%5D%29%3B%0A%20%20%20%20%20%20%20%20let%20rowDiv%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20boardContainer.appendChild%28rowDiv%29%3B%0A%20%20%20%20%20%20%20%20for%20%28let%20col%20%3D%200%3B%20col%20%3C%203%3B%20col++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20let%20el%20%3D%20document.createElement%28%27button%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20el.onclick%20%3D%20%28event%29%20%3D%3E%20clickField%28el%2C%20row%2C%20col%29%3B%0A%20%20%20%20%20%20%20%20%20%20el.dataset.color%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20fields%5Brow%5D.push%28el%29%3B%0A%20%20%20%20%20%20%20%20%20%20rowDiv.appendChild%28el%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20function%20clickReset%28%29%20%7B%0A%20%20%20%20%20%20%20%20currentWebSocket.send%28JSON.stringify%28%7B%20type%3A%20%27reset%27%20%7D%29%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20resetButton.onclick%20%3D%20clickReset%3B%0A%20%20%20%20%3C/script%3E%0A%20%20%3C/body%3E%0A%3C/html%3E'))</script>
